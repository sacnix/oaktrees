<app-menu></app-menu>
<main>
    <div class="container p-2">
        <h1 class="h3 p-2 mb-2 fw-normal">Detalle Pedido</h1>
        <form class="p-4 mb-2 fw-normal" (ngSubmit)="onUpdate()" novalidate #f="ngForm" *ngIf="pedido">
            <div class="row">
                <div class="col space-input-oak">
                    <fieldset disabled>
                        <label for="formGroupExampleInput">Id pedido</label>
                        <input type="text" class="form-control" id="idPedido" name="idPedido" [(ngModel)]="pedido.idPedido">
                    </fieldset>
                </div>
                <div class="col space-input-oak">
                    <fieldset disabled>
                        <label for="formGroupExampleInput">Fecha</label>
                        <input type="text" class="form-control" id="fecha" name="fecha" [(ngModel)]="pedido.fecha">
                    </fieldset>
                </div>
                <div class="col space-input-oak">
                    <fieldset disabled>
                        <label for="formGroupExampleInput">Valor total</label>
                        <input type="text" class="form-control" id="valorTotal" name="valorTotal" [(ngModel)]="pedido.valorTotal">
                    </fieldset>
                </div>
                <div class="col space-input-oak">
                    <fieldset disabled>
                        <label for="formGroupExampleInput">Tipo entrega</label>
                        <input type="text" class="form-control" id="tipoEntrega" name="tipoEntrega" [(ngModel)]="pedido.tipoEntrega">
                    </fieldset>
                </div>
            </div>
            <div class="row space-input-oak">
                <div class="col space-input-oak">
                    <fieldset disabled>
                        <label for="formGroupExampleInput">Correo usuario</label>
                        <input type="text" class="form-control" id="idUsuario" name="idUsuario" [(ngModel)]="pedido.idUsuario">
                    </fieldset>
                </div>
                <div class="col space-input-oak">
                    <fieldset disabled>
                        <label for="formGroupExampleInput">Teléfono</label>
                        <input type="text" class="form-control" id="idUsuario" name="idUsuario" [(ngModel)]="pedido.idUsuario">
                    </fieldset>
                </div>
                <div class="col space-input-oak">
                    <label for="formGroupExampleInput">Estado</label>
                    <select class="form-select" (change)="selectChangeHandler($event)">
                            <option value="" >Seleccione una opción</option>
                            <option value="Recibido" >Recibido</option>
                            <option value="En entrega" >En entrega</option>
                            <option value="Entregado" >Entregado</option>
                            <option value="Cancelado" >Cancelado</option>
                        </select>
                </div>
            </div>
            <div class="row space-input-oak">
                <fieldset disabled>
                    <div class="col space-input-oak">
                        <label for="formGroupExampleInput">Dirección</label>
                        <input type="text" class="form-control" id="direccion" name="direccion" [(ngModel)]="pedido.direccion">
                    </div>
                </fieldset>
            </div>
            <div class="row space-input-oak">
                <div class="col space-input-oak">
                    <label for="formGroupExampleInput">Comentarios</label>
                    <input type="textArea" class="form-control" id="comentario" name="comentario" [(ngModel)]="pedido.comentario" required>
                </div>
            </div>
            <div class="row">
                <div class="p-5 row row-cols-1 row-cols-md-3 ">
                    <h5>Descripción de artículos</h5>
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th scope="col">Nombre</th>
                                <th scope="col">Precio</th>
                                <th scope="col">Imagen</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let producto of producto">
                                <td>{{producto.nombre}}</td>
                                <td>{{producto.precio}}</td>
                                <td><img class="image-thumbnail" style="max-width: 120px; display: block;" src="{{producto.imagenUrl}}" alt=""></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="row float-right" style="width: 350px;">
                <div class="col space-input-oak">
                    <button type="submit" class="btn btn-secundary-oak space-input-oak" routerLink="/pedidos"><i class="fas fa-arrow-circle-left"></i> Volver</button>
                </div>
                <div class="col space-input-oak">
                    <button type="submit" class="btn btn-primary-oak space-input-oak" [disabled]="!f.valid || !cambio">Actualizar pedido</button>
                </div>
            </div>
        </form>



    </div>
</main>